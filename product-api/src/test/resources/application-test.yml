logging:
  level:
    root: INFO
    com.groom.product: INFO
    com.groom.platform: DEBUG  # Keep DEBUG for testcontainers troubleshooting
    org.springframework.boot.autoconfigure: DEBUG  # Auto-configuration debug

# Gemini AI 설정 (테스트용)
gemini:
  api-key: test-api-key
  model: gemini-pro
  max-tokens: 2000

aws:
  s3:
    bucket-name: test-bucket
    region: ap-northeast-2
    access-key: test-access-key
    secret-key: test-secret-key

feign:
  clients:
    store-service:
      url: http://localhost:8082
      connect-timeout: 5000
      read-timeout: 5000
      logger-level: full
  client:
    config:
      store-service:
        loggerLevel: full

spring:
  autoconfigure:
    exclude:
      - org.redisson.spring.starter.RedissonAutoConfigurationV2

# Kafka 설정 (커스텀 - Testcontainers가 제공하는 값으로 오버라이드됨)
kafka:
  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
  schema-registry:
    url: ${SCHEMA_REGISTRY_URL:http://localhost:8081}
  topics:
    # Product Service (Producer)
    product-registered: product.registered
    product-deleted: product.deleted
    # Stock Events (Producer)
    stock-reserved: stock.reserved
    stock-reservation-failed: stock.reservation.failed
    stock-confirmed: stock.confirmed
    # Store Service (Consumer)
    store-info-updated: store.info.updated
    store-deleted: store.deleted
    # Order Service (Consumer)
    order-created: order.created
    # Payment Service (Consumer)
    payment-completed: payment.completed

# TestContainers 설정 (자동으로 Docker 컨테이너 시작)
testcontainers:
  postgres:
    enabled: true
    image: postgres:15-alpine
    database-name: testdb
  redis:
    enabled: true
    image: redis:7-alpine
  kafka:
    enabled: true
    image: confluentinc/cp-kafka:7.5.0
